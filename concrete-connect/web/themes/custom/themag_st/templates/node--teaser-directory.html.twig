{#
/**
 * @file
 * Base Teaser
 */
#}

{# Teaser Markup #}
{# ============= #}
<article{{ attributes.addClass('teaser') }}>

  {# == Media == #}
  {# =========== #}


  {% block teaser_content_block %}
    <div{{ content_attributes.addClass('teaser__content') }}>
      {% block teaser_content %}

        {# == Title & Channel == #}
        {# ===================== #}
        {% block teaser_header_block %}
          <header>
            {% block channel %}
              {% if content.field_channel.0 %}
                <div class="channel teaser__channel">
                  {{ content.field_channel }}
                </div>
              {% endif %}
            {% endblock %}
            {% block teaser_headline %}
              {{ title_prefix }}
              <h2 class="teaser__headline">
                <a href="{{ url }}">{{ label }} </a>
              </h2>
              {{ title_suffix }}
            {% endblock %}
          </header>
        {% endblock %}


        {# == Teaser text == #}
        {# ================= #}
        {% block teaser_text %}
          <div class="teaser__body">
            {{ content|without('field_teaser_media', 'field_channel') }}
          </div>
      <table>
        <tr>
          <td>{% if node.body[0] is not empty %}
              <div>
                <i class='fas fa-home fa-fw fa-1x'></i>
              </div>
            {% endif %}</td>
          <td>{% if node.field_media_gallery[0] is not empty  %}
              <div>
                <i class='fas fa-photo-video fa-fw fa-1x'></i>
              </div>
            {% endif %}</td>
          <td>{% if node.field_file_attachments[0] is not empty %}
            <div>
              <i class='fas fa-file-download fa-fw fa-1x'></i>
            </div>
          {% endif %}</td>
          <td>
            {% set view_results = drupal_view_result('profile_news_items_content_', 'block_3', node.id()) %}
            {% if view_results is not empty %}
              <div>
                <i class='fas fa-newspaper fa-fw fa-1x'></i>
              </div>
            {% else %}
              {#              do nothing#}
            {% endif %}
          </td>
        </tr>
      </table>
        {% endblock %}
      {% endblock %}
    </div>
    {% block media_block %}
      <div class="teaser__media">
        <div class="position-relative">
          {% if themag.teaser.media_contained.html and themag.teaser.show_media_contained_icons %}
            {% block media_icons %}
              <div class="teaser__media-icons">
                {{ themag.teaser.media_contained.html|raw }}
              </div>
            {% endblock %}
          {% endif %}
          {% block teaser_image %}
            <div class="image teaser__image">
              <a href="{{ url }}">
                {{ content.field_teaser_media }}
              </a>
            </div>
          {% endblock %}
        </div>
      </div>
    {% endblock %}
  {% endblock %}
</article>
